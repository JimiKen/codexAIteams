# 项目工作安排（2026-02-19）

## 目标
- 修复团队列表中无法稳定切换成员状态的问题。
- 支持在团队列表直接将测试工程师（QA）切换为 `STOPPED` 并立即停止派发。
- 统一状态显示与控制，避免 `DONE/FAILED` 被误用为人工控制状态。

## 分工安排

| 工程师 | 工作内容 | 输出物 | 截止 |
|---|---|---|---|
| PM（项目经理） | 验收交互流程：运行 -> 停止 -> 恢复；补充发布说明 | 验收记录、发布说明 | 2026-02-19 18:30 |
| FE（前端） | 团队列表新增控制列（RUNNING/STOPPED）；状态列改为只展示运行状态；停止成员不参与派发 | `src/codex_ai_teams/ui/main_window.py` | 2026-02-19 17:30 |
| BE（后端/运行时） | 确认 `stop_agent` 行为：切换 STOPPED 时终止运行中任务并清理进程句柄 | `src/codex_ai_teams/agent_runtime.py`（复核） | 2026-02-19 18:00 |
| QA（测试） | 新增回归用例：单人停止/全员广播过滤/恢复后可再次执行 | 测试用例与结果 | 2026-02-19 19:00 |

## 立即执行指令
- 当前先停止测试工程师：在“团队列表”将 `qa` 的控制状态切换为 `STOPPED`。
- 切换后验证：
  1. 向“全部成员”发送消息时，`qa` 不再收到任务。
  2. 单独选择 `qa` 发送时，弹出“目标成员处于 STOPPED，无法派发任务”。
  3. 切回 `RUNNING` 后，`qa` 可恢复接收任务。

## 风险与备注
- 状态切换为运行时控制，不影响历史日志。
- 若需跨重启保持状态，需在配置文件中同步 `enabled` 字段并在启动时回放。
